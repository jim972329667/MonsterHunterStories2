using System.ComponentModel;

namespace MonsterHunterStories2
{
	class Item : INotifyPropertyChanged
	{
		public event PropertyChangedEventHandler PropertyChanged;

		private readonly uint mAddress;

		public static uint[] Itemlist =
		{
			162,163,164,1243,1242,1245,1236,1237,1238,1239,1240,1241,1249,1639,1640,1641,
			1642,1643,1644,1645,1647,1649,182,183,184,185,186,187,188,189,190,1652,
			1653,1654,1655,1656,1657,1658,1659,1660,1661,1662,1256,1266,1258,1267,1259,1260,
			1264,1268,1270,1271,1261,1294,1262,1269,1272,1274,1275,1263,1265,1257,1295,1296,
			1297,1300,1301,1281,1282,1283,1284,1285,1286,1276,1277,1278,1279,1280,1735,1736,
			1737,1738,1739,1740,1741,1742,1743,1744,1745,1746,1747,1748,1749,1750,166,1672,
			1673,1674,1675,1676,1677,1678,1358,1359,1360,1361,1362,1363,1364,1365,1366,1367,
			1368,1369,1370,1371,1372,1373,1374,1375,1376,1377,1378,1380,1381,1382,1383,1384,
			1385,1386,1387,1702,1703,1704,1705,1706,1707,1708,1709,1710,1711,1712,1713,1714,
			1715,1716,1717,1718,1719,1720,1721,500,1408,1409,1410,1411,1412,1413,1414,1415,
			1306,1307,1308,1309,1310,1311,1312,1313,1314,1315,1316,1317,1318,1319,1320,1321,
			1322,1323,1324,1325,1326,1327,1328,1329,1330,1331,1332,1333,1334,1335,1336,1337,
			1338,1339,1340,167,1226,1227,1228,1229,1230,1231,1232,1233,1234,1235,1254,1255,
			1246,1247,1248,1250,1251,1252,1424,1425,1727,1379,1244,1273
		};

		public Item(uint address)
		{
			mAddress = address;
		}

		public uint ID
		{
			get { return SaveData.Instance().ReadNumber(mAddress, 2); }
			set
			{
				SaveData.Instance().WriteNumber(mAddress, 2, value);
				PropertyChanged?.Invoke(this, new PropertyChangedEventArgs(nameof(ID)));
			}
		}

		public uint Count
		{
			get { return SaveData.Instance().ReadNumber(mAddress + 2, 2); }
			set
			{
				Util.WriteNumber(mAddress + 2, 2, value, 0, 999);
				PropertyChanged?.Invoke(this, new PropertyChangedEventArgs(nameof(Count)));
			}
		}
	}
}
